# BUG-015: "Browser doesn't support frames" text leaks into about_text

**Severity:** Medium
**Status:** Fixed
**Found in:** AI Assessment Validation — 4-profile manual test
**Spec reference:** Quick Spec §4.2 (parser strategy), §5.1 (AI input assembly)
**Date:** 2026-02-28

---

## Description

The text "Browser doesn't support frames" is present in the `about_text` field for profiles that have a booking iframe. This string originates from the `<noscript>` or `<noframes>` fallback inside the booking `<iframe>` element and is being captured as part of the About section content by the parser.

This corrupts two layers:
1. **Database persistence** — `about_text` contains non-profile rendering artifact text
2. **AI assessment input** — the artifact is sent to Haiku, polluting the quality assessment. Haiku flagged it in `overall_quality_notes`: "Browser doesn't support frames text appears to be a technical error in the About section"

## Evidence

Profile `dr-sam-firoozi` (run `dff705df-e04c-45d1-83e9-0c22d5d74c9e`):

Parsed `about_text` ends with:
```
...Dr Firoozi sees adults and children (16+)Browser doesn't support frames
```

The artifact is concatenated directly onto the last sentence with no space, suggesting it's being captured from an adjacent DOM element (likely the iframe's noscript content).

## Expected Behavior

- `about_text` should not contain "Browser doesn't support frames" or any other iframe/noscript fallback text
- Parser should strip known rendering artifacts before persisting and before assembling AI input

## Root Cause (suspected)

The About section text extraction likely captures text content from sibling or child elements of the About container that include the booking iframe's noscript fallback. The iframe may be positioned within or adjacent to the About section in the DOM.

## Fix

Parser (`parse.ts`) should strip the following known artifact strings from extracted text fields before returning:

```typescript
const RENDERING_ARTIFACTS = [
  "Browser doesn't support frames",
  "Browser does not support frames",
];
```

Apply to: `about_text`, `overview_text`, `related_experience_text` — any free-text field that could contain iframe fallback content.

## Impact

- Affects all profiles with a booking iframe (estimated ~90% of active profiles based on Round 3 scan: 90/120 had booking iframe)
- Data corruption is low-severity (short artifact at end of text) but widespread
- AI assessment accuracy is marginally affected — Haiku correctly identifies it as an error but shouldn't have to

## Regression Tests

- Profile with booking iframe: `about_text` must not contain "Browser doesn't support frames"
- Profile without booking iframe: `about_text` unchanged (no false stripping)
- AI input assembly: artifact text absent from profile text sent to Haiku
