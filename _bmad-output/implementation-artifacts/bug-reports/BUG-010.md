# BUG-010: hospital_is_nuffield always false

**Severity:** Critical
**Status:** Fixed
**Found in:** QA Phase 1 — Ground Truth (30-profile cohort)
**Spec reference:** Quick Spec §3.1 `hospital_is_nuffield` field
**Date:** 2026-02-28

---

## Description

`hospital_is_nuffield` is `0` (false) for ALL 30 profiles tested, despite many being at confirmed Nuffield Health hospitals. Example: mr-piers-moreau is at Shrewsbury — the booking iframe literally displays "Nuffield Health Shrewsbury Hospital".

## Evidence

All 31 unique slugs (35 rows including duplicates) have `hospital_is_nuffield = 0`. Confirmed Nuffield hospitals in the cohort include: Leeds, Cambridge, Oxford, Exeter, Shrewsbury, Edinburgh, Bournemouth, Leicester, Taunton, Plymouth, Glasgow, and others.

## Root Cause

In `extractHospitalInfo()` (`parse.ts`, line ~1051):

```typescript
const isNuffield = hospitalName ? NUFFIELD_REGEX.test(hospitalName) : true;
```

The extracted `hospital_name_primary` is a short-form label from the DOM (e.g. "Shrewsbury", "Leeds", "Cambridge"). These short names do NOT contain the word "Nuffield", so `NUFFIELD_REGEX` (`/nuffield/i`) returns false.

The fundamental error is testing the short display name against a regex that requires "Nuffield". All consultant profiles on nuffieldhealth.com are by definition at Nuffield-affiliated facilities unless explicitly flagged otherwise.

## Fix

Invert the logic — default to `true` for all profiles scraped from nuffieldhealth.com. Only set `false` when the hospital name contains explicit non-Nuffield indicators (e.g. "NHS", "independent"):

```typescript
const NON_NUFFIELD_INDICATORS = /\b(?:non-?nuffield|independent)\b/i;
const isNuffield = hospitalName ? !NON_NUFFIELD_INDICATORS.test(hospitalName) : true;
```

Or more simply: always `true` since these are all Nuffield consultant pages. The `hospital_nuffield_at_nhs` field handles the NHS partnership case separately.

## Regression Tests

- Hospital name "Leeds" → hospital_is_nuffield = true
- Hospital name "Nuffield Health Cambridge" → hospital_is_nuffield = true
- Hospital name containing NHS indicator → hospital_is_nuffield per defined rules
