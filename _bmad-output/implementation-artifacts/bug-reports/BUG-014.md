# BUG-014: PHONE_REGEX doesn't match London 020 numbers

**Severity:** Minor
**Status:** Fixed
**Found in:** QA Phase 1 — 10-profile random spot-check
**Spec reference:** Quick Spec §3.1 `contact_phone` field
**Date:** 2026-02-28

---

## Description

The body text fallback in `extractContactInfo()` fails to match London 020 phone numbers because PHONE_REGEX expects 4-5 digit area codes but London uses a 3-digit area code.

## Evidence

Profile `professor-leighton-seal` (Highgate hospital):
- **Live page**: "020 8341 4182" visible in sidebar and location section
- **DB `contact_phone`**: `null`
- **Tel: link**: Empty (`href="tel:"`)

The scraper correctly falls back to body text scanning when no valid tel: link exists, but the regex cannot match the London number format.

## Root Cause

`PHONE_REGEX` in `parse.ts` (line ~89) has the spaced number pattern:

```typescript
0[1-3]\d{2,3}\s*\d{3,4}\s*\d{3,4}
```

This expects the area code to be 4-5 digits (`0` + `[1-3]` + `\d{2,3}`). London numbers have a 3-digit area code (`020`), which only provides 1 digit after `[1-3]`, failing the `\d{2,3}` minimum.

| Number | Area code | `\d{2,3}` digits after `0[1-3]` | Matches? |
|--------|-----------|------|----------|
| `0113 456 7890` | 0113 | `13` (2 digits) | Yes |
| `01onal 567 890` | 01234 | `234` (3 digits) | Yes |
| `020 8341 4182` | 020 | `0` (1 digit) | **No** |

The no-spaces variant `0[1-3]\d{8,9}` would match `02083414182` but body text contains spaces.

## Fix

Widen the area code suffix from `\d{2,3}` to `\d{1,3}` to accept 3-digit area codes:

```typescript
// Before
0[1-3]\d{2,3}\s*\d{3,4}\s*\d{3,4}
// After
0[1-3]\d{1,3}\s*\d{3,4}\s*\d{3,4}
```

## Impact Note

This bug is partially masked by the BUG-013 fix (itemprop extraction finds the phone before the body text fallback runs). However, the regex fix is still needed as a defense-in-depth fallback for profiles that have neither `itemprop="telephone"` nor valid tel: links.

## Regression Tests

- Body text containing "020 8341 4182" → extracts via PHONE_REGEX fallback
- Body text containing "0113 456 7890" → still works (no regression)
